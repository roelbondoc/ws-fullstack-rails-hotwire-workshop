<section class="section">
  <div class="container">
    <h1 class="title">Activities</h1>
  </div>
</section>

<section class="section">
  <div class="container mb-4" data-controller="filter-toggle">
    <form class="is-hidden is-inline-block" data-turbo-frame="index-list" data-filter-toggle-target="form">
      <div class="field is-grouped is-grouped-multiline">
        <div class="control">
          <div class="select">
            <%= select_tag 'client_id', options_from_collection_for_select(Client.all.order(:name), 'id', 'name'), include_blank: 'Client' %>
          </div>
        </div>
        <div class="control">
          <div class="select">
            <%= select_tag 'account_id', options_from_collection_for_select(Account.all.order(:canonical_id), 'id', 'canonical_id'), include_blank: 'Account' %>
          </div>
        </div>
        <div class="control">
          <div class="select">
            <%= select_tag 'security_id', options_from_collection_for_select(Security.all.order(:symbol), 'id', 'symbol'), include_blank: 'Security' %>
          </div>
        </div>
        <div class="control">
          <div class="select">
            <%= select_tag 'activity_type', options_for_select(Activity.distinct(:activity_type).pluck(:activity_type).sort), include_blank: 'Type' %>
          </div>
        </div>
        <div class="control">
          <input class="button is-info" type="submit" value="Filter">
        </div>
      </div>
    </form>
    <button class="button is-inline-block" data-action="filter-toggle#toggle">&harr;</button>
  </div>
  <%= turbo_frame_tag 'index-list' do %>
    <div class="container">
      <%= render partial: 'activity_list', locals: { activities: @activities } %>
    </div>
  <% end %>
</section>
